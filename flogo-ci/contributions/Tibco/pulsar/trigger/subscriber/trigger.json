{"name":"pulsar-subscriber","type":"flogo:trigger","version":"1.1.5","author":"TIBCO Software Inc.","title":"Apache Pulsar Consumer","description":"A pulsar trigger which reads messages from apache pulsar queue","settings":[{"name":"connection","type":"connection","required":true,"display":{"name":"Pulsar Connection","description":"Connection to an Apache Pulsar broker","type":"connection"},"wizard":{"type":"dropdown","selection":"single","step":"Settings"}}],"output":[{"name":"payload","type":"any"},{"name":"properties","type":"object","display":{"name":"Message Properties","description":"Message properties","type":"params","schema":"{\"type\": \"array\",\"items\": {\"type\": \"object\",\"properties\": {\"parameterName\": {\"type\": \"string\"},\"type\": {\"type\": {\"enum\": [\"string\"]}}}}}"},"wizard":{"step":"Settings"}},{"name":"topic","type":"string"},{"name":"msgid","type":"string"},{"name":"ledgerid","type":"integer"},{"name":"entryid","type":"integer"},{"name":"redeliveryCount","type":"integer"},{"name":"jsonSchema","type":"object","required":false,"value":"","display":{"name":"Schema for JSON value","description":"The JSON schema for the topic payload","type":"texteditor","syntax":"json","visible":false,"outputSettingsOnly":true},"wizard":{"type":"object","step":"Settings"}}],"handler":{"settings":[{"name":"topic","type":"string","required":false,"display":{"name":"Topic","description":"Topic name in the format:  topic, tenant/namespace/topic, persistent://topic, persistent://tenant/namespace/topic, non-persistent://tenant/namespace/topic","appPropertySupport":true},"wizard":{"step":"Settings"}},{"name":"topicsPattern","type":"string","required":false,"display":{"name":"Topics Pattern","description":"Specify a regular expression. If both Topic and Topics Pattern are specified, the subscription will be created with only the Topic.","appPropertySupport":true},"wizard":{"step":"Settings"}},{"name":"subscriptionName","type":"string","required":true,"value":"","display":{"name":"Subscription Name","description":"The subscription name.  If no such subscription exists it will be created.","appPropertySupport":true},"wizard":{"step":"Settings"}},{"name":"subscriptionType","type":"string","required":true,"allowed":["Exclusive","Shared","Failover","KeyShared"],"value":"Shared","display":{"name":"Subscription Type","description":"All subscribers for a particular subscription must be of the same type to connect","appPropertySupport":false,"type":"dropdown","selection":"single"}},{"name":"processingMode","type":"string","required":true,"allowed":["Sync","Async"],"value":"Sync","display":{"name":"Processing Mode","description":"Determines how messages are received by the handler. In `Sync` mode, handler will receive and process at-most one message. This mode guarantees the order of processing. In `Async` mode, handler will receive messages concurrently at the same time. This mode does not guarantee the order of processing.","appPropertySupport":false},"wizard":{"step":"Settings"}},{"name":"initialPosition","type":"string","required":true,"allowed":["Latest","Earliest"],"value":"Latest","display":{"name":"Initial Position","description":"Select Latest to recieve only messages sent as of when this subscriber starts, else Earliest","appPropertySupport":true,"type":"dropdown","selection":"single"}},{"name":"seek","type":"string","required":false,"allowed":["Seek By MessageID","Seek By Timestamp","None"],"value":"None","display":{"name":"Seek","description":"Seek resets the subscription associated with this consumer to a specific message id OR to a specific message publish time","appPropertySupport":true,"type":"dropdown","selection":"single"}},{"name":"seekTime","type":"string","required":false,"display":{"name":"TimeStamp","visible":false,"description":"Provide specific message publish time to resets the subscription associated with this consumer","appPropertySupport":true}},{"name":"ledgerId","type":"integer","required":false,"value":0,"display":{"name":"Ledger ID","description":"Set the ledger id pointing to the desired ledger","appPropertySupport":true,"visible":false}},{"name":"entryId","type":"integer","required":false,"value":0,"display":{"name":"Entry ID","description":"Set the entry id pointing to the desired entry","appPropertySupport":true,"visible":false}},{"name":"dlqTopic","type":"string","required":false,"value":"","display":{"name":"DLQ Topic","description":"The name of the topic to which messages will be relocated when the DLQ Max Deliveries threshold is reached.  If no topic is specified then DLQ processing is not performed.","appPropertySupport":true,"visible":false,"type":"string"}},{"name":"dlqMaxDeliveries","type":"integer","required":false,"value":3,"display":{"name":"DLQ Max Deliveries","description":"Set the maximum number of times message processing can fail before the message is relocated to the DLQ Topic","appPropertySupport":true,"visible":false}},{"name":"nackRedeliveryDelay","type":"integer","required":false,"value":60,"display":{"name":"Nack Redelivery Delay","description":"Set the delay in seconds after which message will be redelivered when it is negative acknowledged","appPropertySupport":true,"visible":true,"type":"int"}},{"name":"enableBatchIndexAcknowledgment","type":"boolean","required":false,"value":false,"display":{"name":"Enable Batch Index Acknowledgment","description":"Enable or disable batch index acknowledgment. To enable this feature, ensure batch index acknowledgment is enabled on the broker side.","appPropertySupport":true,"visible":true}},{"name":"maxPendingChunkedMessage","type":"integer","required":false,"value":100,"display":{"name":"Max Pending Chunked Message","description":"Specifies the maximum size of a queue that can hold pending message chunks for a consumer.","appPropertySupport":true,"visible":true}},{"name":"expireTimeOfIncompleteChunk","type":"integer","required":false,"value":60,"display":{"name":"Expire Time Of Incomplete Chunk","description":"Set the expiry time of discarding incomplete chunked message in seconds","appPropertySupport":true,"visible":true}},{"name":"autoAckIncompleteChunk","type":"boolean","required":false,"value":false,"display":{"name":"Auto Ack Incomplete Chunk","description":"Set whether consumer auto acknowledges incomplete chunked message when it should be removed","appPropertySupport":true,"visible":true}},{"name":"replicateSubscriptionState","type":"boolean","required":true,"value":false,"display":{"name":"Replicate Subscription State","description":"Replicate Subscription State marks the subscription as replicated to keep it in sync across clusters","appPropertySupport":true,"visible":true}},{"name":"format","type":"string","required":true,"value":"String","allowed":["String","JSON"],"display":{"name":"Message Format","description":"Select the format for the message body","appPropertySupport":false,"visible":true,"outputSettingsOnly":true},"wizard":{"type":"dropdown","selection":"single","step":"Settings"}}]},"ref":"github.com/project-flogo/messaging-contrib/pulsar/trigger/subscriber","display":{"description":"Subscribe to a Pulsar topic","category":"pulsar","visible":true,"smallIcon":"icons/pulsar_message_subscriber@2x.png","largeIcon":"icons/pulsar_message_subscriber@3x.png","wizard":["Settings"],"tags":["Messaging","Pulsar"]},"actions":[{"name":"Finish"}]}
